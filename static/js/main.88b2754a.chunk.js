(this.webpackJsonpproyect=this.webpackJsonpproyect||[]).push([[0],{58:function(e,t,n){e.exports=n(88)},88:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(25),o=n.n(l),u=n(7),c=n(90),i=n(94),s=n(17),d=n(5),m="rgb(116, 128, 175)",E={padding:".5rem 1rem",fontSize:"1.2rem",display:"block",color:"white",borderRadius:"10px"},p=Object(d.a)({},E,{backgroundColor:m}),f=Object(d.a)({},E,{backgroundColor:"rgb(91, 187, 130)"}),h={padding:".5rem 1rem"},b={borderColor:"gray",padding:"0.5rem"},y={padding:".5rem 1rem",fontSize:"1.5rem",display:"block"},C=Object(d.a)({},y,{color:m}),S=Object(d.a)({},y,{color:"rgb(91, 187, 130)"}),g={borderColor:"gray",padding:"0.5rem"},O={backgroundColor:m,borderColor:m},T={border:"solid 0.01rem",padding:"1rem",width:"50%",borderColor:"gray"},v=Object(d.a)({},T),G=Object(d.a)({},T),j={padding:"1rem"},F={backgroundColor:m,borderColor:m},k={textAlign:"left"},_={textAlign:"right"},P={border:"solid 0.12rem gray"},R={backgroundColor:m,borderColor:m},I={margin:"1.5rem 0",border:"solid 0.05rem gray"},N="http://localhost",U=N+":3001/students",H=N+":3001/groups",D={method:"GET",url:U},L={method:"GET",url:H},w={method:"GET",url:"http://localhost:3001/cities"},A={method:"GET",url:"http://localhost:3001/professors"},x={method:"POST",url:U},V={method:"DELETE",url:U},B={method:"DELETE",url:H},M={method:"POST",url:H},q=n(8),z=n.n(q),J=function(){var e=function(e,t){return a.a.createElement(s.b,{to:e,style:p,activeStyle:f,isActive:function(t,n){return function(e,t){return"/"+z.a.split(e.pathname,"/")[1]===t}(n,e)}},t)};return a.a.createElement(i.a,{variant:"tabs",activeKey:"1",style:b},a.a.createElement(i.a.Item,{style:h},e("/","Home")),a.a.createElement(i.a.Item,{style:h},e("/insert","Insert")),a.a.createElement(i.a.Item,{style:h},e("/register","Register")))},W=n(95),Z=u.b((function(e,t){return{error:e.error}}),{})((function(e){var t=e.error;return r.createElement(W.a,{style:I},r.createElement(W.a.Body,null,r.createElement(W.a.Title,null,"Application for the administration of students"," ",t?"<<CONNECTION FAIL>>":""),r.createElement(W.a.Text,null,"Download 'db.json' file from source code. Install json-server (",r.createElement(W.a.Link,{href:"https://www.npmjs.com/package/json-server"},"https://www.npmjs.com/package/json-server"),") and write 'json-server --watch db.json --port 3001' for running json-server.")))})),K=n(9),$=n(93),Q=n(89),X=n(18),Y=n.n(X),ee={FetchCitiesThunk:function(){return function(e){e({type:"FETCHING"});Y()(w).then((function(t){e({type:"FETCH_CITIES_SUCCESS",payload:t.data})})).catch((function(){e({type:"FETCH_ERROR"})}))}},FetchGroupsThunk:function(){return function(e){e({type:"FETCHING"});Y()(L).then((function(t){e({type:"FETCH_GROUPS_SUCCESS",payload:t.data})})).catch((function(){e({type:"FETCH_ERROR"})}))}},FetchProfessorsThunk:function(){return function(e){e({type:"FETCHING"});Y()(A).then((function(t){e({type:"FETCH_PROFESSORS_SUCCESS",payload:t.data})})).catch((function(){e({type:"FETCH_ERROR"})}))}},FetchStudentsThunk:function(){return function(e){e({type:"FETCHING"});Y()(D).then((function(t){e({type:"FETCH_STUDENTS_SUCCESS",payload:t.data})})).catch((function(){e({type:"FETCH_ERROR"})}))}},PostStudentThunk:function(e){return function(t){t({type:"FETCHING"});Y()(Object(d.a)({},x,{data:e})).then((function(e){t(function(e){return{type:"POST_STUDENT_SUCCESS",payload:e}}(e.data))})).catch((function(){t({type:"FETCH_ERROR"})}))}},PostGroupThunk:function(e){return function(t){t({type:"FETCHING"});Y()(Object(d.a)({},M,{data:e})).then((function(e){t({type:"POST_GROUP_SUCCESS"})})).catch((function(){t({type:"FETCH_ERROR"})}))}},DeleteStudentThunk:function(e){return function(t){t({type:"FETCHING"});var n=V.url?V.url:"";Y()(Object(d.a)({},V,{url:n+"/"+e.id})).then((function(n){t(function(e){return{type:"DELETE_STUDENT_SUCCESS",payload:e}}(e))})).catch((function(){t({type:"FETCH_ERROR"})}))}},DeleteGroupThunk:function(e){return function(t){t({type:"FETCHING"});var n=B.url?B.url:"";Y()(Object(d.a)({},B,{url:n+"/"+e.id})).then((function(n){t(function(e){return{type:"DELETE_GROUP_SUCCESS",payload:e}}(e))})).catch((function(){t({type:"FETCH_ERROR"})}))}},ChangeFilterVsAction:function(e){return{type:"CHANGE_FILTER",payload:e}}},te={handlePostStudent:ee.PostStudentThunk,handleloadGroups:ee.FetchGroupsThunk},ne=u.b((function(e,t){return{listCities:e.cities,listGroups:e.groups,fetching:e.fetching}}),te)((function(e){var t=e.listGroups,n=e.listCities,l=(e.fetching,e.handlePostStudent),o=e.handleloadGroups,u=Object(r.useState)(""),c=Object(K.a)(u,2),i=c[0],s=c[1],d=Object(r.useState)(""),m=Object(K.a)(d,2),E=m[0],p=m[1],f=Object(r.useState)(""),h=Object(K.a)(f,2),b=h[0],y=h[1],C=Object(r.useState)(0),S=Object(K.a)(C,2),g=S[0],T=S[1],G=Object(r.useState)("Male"),j=Object(K.a)(G,2),F=j[0],k=j[1],_=Object(r.useState)(0),P=Object(K.a)(_,2),R=P[0],I=P[1],N=Object(r.useState)(""),U=Object(K.a)(N,2),H=U[0],D=U[1],L=function(){n.length&&I(n[0].id)},w=function(){t.length&&T(t[0].id)};Object(r.useEffect)((function(){L(),w(),o()}),[]);return a.a.createElement($.a,{onSubmit:function(e){e.preventDefault(),l({name:i,age:Number(E),sex:F,birthday:H,cityId:R,email:b,groupId:g,id:0}),s(""),p(""),y(""),w(),k("Male"),L(),D("")},style:v},a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Name"),a.a.createElement($.a.Control,{pattern:"[a-z A-Z]*",value:i,required:!0,type:"text",placeholder:"Enter full name",onChange:function(e){s(e.target.value)}})),a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Group"),a.a.createElement($.a.Control,{as:"select",value:g,onChange:function(e){T(Number(e.target.value))}},t.map((function(e){return a.a.createElement("option",{key:e.id,value:e.id},e.name)})))),a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Email"),a.a.createElement($.a.Control,{required:!0,type:"email",value:b,placeholder:"Enter email",onChange:function(e){y(e.target.value)}})),a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Sex"),a.a.createElement($.a.Control,{as:"select",onChange:function(e){k(e.target.value)}},a.a.createElement("option",null,"Male"),a.a.createElement("option",null,"Female"))),a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Age"),a.a.createElement($.a.Control,{required:!0,type:"number",min:"5",max:"100",placeholder:"Enter age",value:E,onChange:function(e){p(e.target.value)}})),a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"City"),a.a.createElement($.a.Control,{as:"select",value:R,onChange:function(e){I(Number(e.target.value))}},n.map((function(e){return a.a.createElement("option",{key:e.id,value:e.id},e.name)})))),a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Birthday"),a.a.createElement($.a.Control,{required:!0,type:"date",value:H,onChange:function(e){D(e.target.value)}})),a.a.createElement(Q.a,{variant:"primary",type:"submit",style:O},"Submit"))})),re={handlePostGroup:ee.PostGroupThunk},ae=u.b((function(e,t){return{listProfessors:e.professors}}),re)((function(e){var t=e.listProfessors,n=e.handlePostGroup,l=Object(r.useState)(""),o=Object(K.a)(l,2),u=o[0],c=o[1],i=Object(r.useState)(1),s=Object(K.a)(i,2),d=s[0],m=s[1],E=function(){c(""),t.length&&m(t[0].id)};return a.a.createElement($.a,{onSubmit:function(e){e.preventDefault(),E(),n({name:u,professorId:d,id:0})},style:G},a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Group name"),a.a.createElement($.a.Control,{pattern:"[a-zA-Z0-9-_]*",value:u,required:!0,type:"text",placeholder:"Enter group name",onChange:function(e){c(e.target.value)}})),a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Professor"),a.a.createElement($.a.Control,{as:"select",value:d,onChange:function(e){m(Number(e.target.value))}},t.map((function(e){return a.a.createElement("option",{key:e.id,value:e.id},e.name)})))),a.a.createElement(Q.a,{variant:"primary",type:"submit",style:O},"Submit"))})),le=n(19),oe=function(){var e=function(e,t){return a.a.createElement(s.b,{to:e,style:C,activeStyle:S,isActive:function(t,n){return function(e,t){return e.pathname===t}(n,e)}},t)};return a.a.createElement(r.Fragment,null,a.a.createElement(i.a,{variant:"pills",style:g},a.a.createElement(i.a.Item,null,e("/insert/student-form","Student")),a.a.createElement(i.a.Item,null,e("/insert/group-form","Group"))),a.a.createElement(le.d,null,a.a.createElement(le.b,{path:"/insert/student-form"},a.a.createElement(ne,null)),a.a.createElement(le.b,{path:"/insert/group-form"},a.a.createElement(ae,null)),a.a.createElement(le.a,{to:"/insert/student-form"})))},ue=n(92),ce=function(e,t){if(0===t.length)return"< Not found >";if(1===t.length)return t[0].id===e?t[0].name:"< Not found >";var n=z.a.findIndex(t,(function(t){return t.id===e}));return n>=0?t[n].name:"< Not found >"},ie=n(52),se=n(91),de=n(53),me=["All","Group","Professor","City"],Ee={type:"All",option:0},pe={handleChangeFilterVs:ee.ChangeFilterVsAction},fe=u.b((function(e,t){return{listProfessor:e.professors,listCities:e.cities,listGroups:e.groups,currentFilterVs:e.currentFilterVs}}),pe)((function(e){var t=e.listCities,n=e.listGroups,l=e.listProfessor,o=e.currentFilterVs,u=e.handleChangeFilterVs,i=Object(r.useState)("All"),s=Object(K.a)(i,2),d=s[0],m=s[1],E=Object(r.useState)(0),p=Object(K.a)(E,2),f=p[0],h=p[1],b=Object(r.useState)([]),y=Object(K.a)(b,2),C=y[0],S=y[1];Object(r.useEffect)((function(){m(o.type),h(o.option),o.option===Ee.option&&S([])}),[o]);return a.a.createElement(se.a,{style:j},a.a.createElement(de.a,{sm:3},a.a.createElement(ie.a,{as:"select",value:d,onChange:function(e){!function(e){switch(m(e),e){case"City":h(t[0].id),S(t);break;case"Group":h(n[0].id),S(n);break;case"Professor":h(l[0].id),S(l);break;case"All":S([])}}(e.target.value)}},me.map((function(e,t){return a.a.createElement("option",{key:t},e)})))),a.a.createElement(de.a,{sm:3},a.a.createElement(ie.a,{as:"select",value:f,onChange:function(e){h(Number(e.target.value))}},C.map((function(e,t){return a.a.createElement("option",{key:t,value:e.id},e.name)})))),a.a.createElement(de.a,null,a.a.createElement(c.a,{style:k},a.a.createElement(Q.a,{style:F,onClick:function(){u({type:d,option:f})}},"Filter"))),a.a.createElement(de.a,null,a.a.createElement(c.a,{style:_},a.a.createElement(Q.a,{style:F,onClick:function(){u(Ee)}},"Show All"))))})),he=["#","Name","Group","Email","Sex","Age","Birthplace","Birthday","Main professor","Delete"],be={handleDeleteStudent:ee.DeleteStudentThunk,handleLoadGroup:ee.FetchGroupsThunk,handleLoadStudents:ee.FetchStudentsThunk},ye=u.b((function(e,t){var n;switch(e.currentFilterVs.type){case"City":n=z.a.filter(e.students,(function(t){return t.cityId===e.currentFilterVs.option}));break;case"Group":n=z.a.filter(e.students,(function(t){return t.groupId===e.currentFilterVs.option}));break;case"Professor":var r=z.a.find(e.groups,(function(t){return t.professorId===e.currentFilterVs.option}));n=void 0===typeof r?e.students:z.a.filter(e.students,(function(e){return e.groupId===(null===r||void 0===r?void 0:r.id)}));break;case"All":default:n=e.students}return{listStudents:n,listCities:e.cities,listGroups:e.groups,listProfessors:e.professors}}),be)((function(e){var t=e.listStudents,n=e.listGroups,l=e.listCities,o=e.listProfessors,u=e.handleDeleteStudent,c=e.handleLoadStudents,i=e.handleLoadGroup;return Object(r.useEffect)((function(){c(),i()}),[]),a.a.createElement(r.Fragment,null,a.a.createElement(fe,null),a.a.createElement(ue.a,{striped:!0,bordered:!0,hover:!0,style:P},a.a.createElement("thead",null,a.a.createElement("tr",null,he.map((function(e,t){return a.a.createElement("th",{key:t},e)})))),a.a.createElement("tbody",null,t.map((function(e){return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,e.id),a.a.createElement("td",null,e.name),a.a.createElement("td",null,ce(e.groupId,n)),a.a.createElement("td",null,e.email),a.a.createElement("td",null,e.sex),a.a.createElement("td",null,e.age),a.a.createElement("td",null,ce(e.cityId,l)),a.a.createElement("td",null,e.birthday),a.a.createElement("td",null,function(e,t,n){var r=z.a.find(t,(function(t){return t.id===e.groupId})),a=z.a.find(n,(function(e){return e.id===(null===r||void 0===r?void 0:r.professorId)}));return a?a.name:"< Not found >"}(e,n,o)),a.a.createElement("td",null,a.a.createElement(Q.a,{style:R,onClick:function(){u(e)}},"Delete")))})))))})),Ce=["#","Name","Main professor","Delete"],Se={handleLoadProfessor:ee.FetchProfessorsThunk,handleLoadGroup:ee.FetchGroupsThunk,handleDeleteGroup:ee.DeleteGroupThunk},ge=u.b((function(e,t){return{listGroups:e.groups,listProfessors:e.professors}}),Se)((function(e){var t=e.listGroups,n=e.listProfessors,l=e.handleDeleteGroup,o=e.handleLoadGroup,u=e.handleLoadProfessor;return Object(r.useEffect)((function(){u(),o()}),[]),a.a.createElement(ue.a,{striped:!0,bordered:!0,hover:!0,style:P},a.a.createElement("thead",null,a.a.createElement("tr",null,Ce.map((function(e,t){return a.a.createElement("th",{key:t},e)})))),a.a.createElement("tbody",null,t.map((function(e){return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,e.id),a.a.createElement("td",null,e.name),a.a.createElement("td",null,ce(e.professorId,n)),a.a.createElement("td",null,a.a.createElement(Q.a,{style:R,onClick:function(){l(e)}},"Delete")))}))))})),Oe=function(){var e=function(e,t){return a.a.createElement(s.b,{to:e,style:C,activeStyle:S,isActive:function(t,n){return function(e,t){return e.pathname===t}(n,e)}},t)};return a.a.createElement(r.Fragment,null,a.a.createElement(i.a,{variant:"pills",style:g},a.a.createElement(i.a.Item,null,e("/register/student-list","Student")),a.a.createElement(i.a.Item,null,e("/register/group-list","Group"))),a.a.createElement(le.d,null,a.a.createElement(le.b,{path:"/register/student-list"},a.a.createElement(ye,null)),a.a.createElement(le.b,{path:"/register/group-list"},a.a.createElement(ge,null)),a.a.createElement(le.a,{to:"/register/student-list"})))},Te=u.b((function(e,t){return{error:e.error}}),{})((function(e){var t=e.component,n=e.path;return e.error?a.a.createElement(le.a,{to:"/"}):a.a.createElement(le.b,{path:n,component:t})})),ve={loadCities:ee.FetchCitiesThunk,loadProffesors:ee.FetchProfessorsThunk},Ge=u.b((function(e,t){return{}}),ve)((function(e){var t=e.loadCities,n=e.loadProffesors;return Object(r.useEffect)((function(){t(),n()}),[t,n]),a.a.createElement(c.a,null,a.a.createElement(s.a,null,a.a.createElement(J,null),a.a.createElement(le.d,null,a.a.createElement(le.b,{exact:!0,path:"/",component:Z}),a.a.createElement(Te,{path:"/insert",component:oe}),a.a.createElement(Te,{path:"/register",component:Oe}),a.a.createElement(le.a,{to:"/"}))))})),je=n(54),Fe=n(56),ke={cities:[],students:[],groups:[],professors:[],error:!0,fetching:!1,currentFilterVs:Ee},_e=n(22),Pe=Object(_e.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHING":return Object(d.a)({},e,{fetching:!0,error:!1});case"FETCH_ERROR":return Object(d.a)({},e,{fetching:!1,error:!0});case"FETCH_STUDENTS_SUCCESS":return Object(d.a)({},e,{error:!1,fetching:!1,isStudentsUpdated:!0,students:t.payload});case"FETCH_GROUPS_SUCCESS":return Object(d.a)({},e,{error:!1,fetching:!1,isGroupsUpdated:!0,groups:t.payload});case"FETCH_CITIES_SUCCESS":return Object(d.a)({},e,{error:!1,fetching:!1,cities:t.payload});case"FETCH_PROFESSORS_SUCCESS":return Object(d.a)({},e,{error:!1,fetching:!1,professors:t.payload});case"POST_STUDENT_SUCCESS":return Object(d.a)({},e,{students:[].concat(Object(Fe.a)(e.students),[t.payload])});case"DELETE_STUDENT_SUCCESS":return Object(d.a)({},e,{students:z.a.filter(e.students,(function(e){return e.id!==t.payload.id}))});case"DELETE_GROUP_SUCCESS":return Object(d.a)({},e,{groups:z.a.filter(e.groups,(function(e){return e.id!==t.payload.id}))});case"POST_GROUP_SUCCESS":return Object(d.a)({},e,{isGroupsUpdated:!1});case"CHANGE_FILTER":return Object(d.a)({},e,{currentFilterVs:t.payload});default:return e}}),Object(_e.a)(je.a)),Re=function(){return a.a.createElement(u.a,{store:Pe},a.a.createElement(Ge,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(87);o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[58,1,2]]]);
//# sourceMappingURL=main.88b2754a.chunk.js.map