(this.webpackJsonpproyect=this.webpackJsonpproyect||[]).push([[0],{55:function(e,t,n){e.exports=n(85)},85:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(24),o=n.n(l),u=n(6),i=n(87),c=n(91),s=n(17),d=n(9),m="rgb(116, 128, 175)",f={padding:".5rem 1rem",fontSize:"1.2rem",display:"block",color:"white",borderRadius:"10px"},p=Object(d.a)({},f,{backgroundColor:m}),E=Object(d.a)({},f,{backgroundColor:"rgb(91, 187, 130)"}),h={padding:".5rem 1rem"},b={borderColor:"gray",padding:"0.5rem"},g={padding:".5rem 1rem",fontSize:"1.5rem",display:"block"},v=Object(d.a)({},g,{color:m}),y=Object(d.a)({},g,{color:"rgb(91, 187, 130)"}),C={borderColor:"gray",padding:"0.5rem"},O={backgroundColor:m,borderColor:m},S={border:"solid 0.01rem",padding:"1rem",width:"50%",borderColor:"gray"},F=Object(d.a)({},S),j=Object(d.a)({},S),G={padding:"1rem"},k={backgroundColor:m,borderColor:m},I={textAlign:"left"},P={textAlign:"right"},L={border:"solid 0.12rem gray"},w={backgroundColor:m,borderColor:m},N={margin:"1.5rem 0",border:"solid 0.05rem gray"},A=function(e){switch(e){case"students":return"http://localhost:3001/students";case"professors":return"http://localhost:3001/professors";case"groups":return"http://localhost:3001/groups";case"cities":return"http://localhost:3001/cities";default:return""}},D=n(8),T=n.n(D),x=function(){var e=function(e,t){return r.a.createElement(s.b,{to:e,style:p,activeStyle:E,isActive:function(t,n){return function(e,t){return"/"+T.a.split(e.pathname,"/")[1]===t}(n,e)}},t)};return r.a.createElement(c.a,{variant:"tabs",activeKey:"1",style:b},r.a.createElement(c.a.Item,{style:h},e("/","Home")),r.a.createElement(c.a.Item,{style:h},e("/insert","Insert")),r.a.createElement(c.a.Item,{style:h},e("/register","Register")))},_=n(92),U=u.b((function(e,t){return{isOnline:e.isOnline}}),{})((function(e){var t=e.isOnline;return a.createElement(_.a,{style:N},a.createElement(_.a.Body,null,a.createElement(_.a.Title,null,"Application for the administration of students"," ",t?"":"<<CONNECTION FAIL>>"),a.createElement(_.a.Text,null,"Download 'db.json' file from source code. Install json-server (",a.createElement(_.a.Link,{href:"https://www.npmjs.com/package/json-server"},"https://www.npmjs.com/package/json-server"),") and write 'json-server --watch db.json --port 3001' for running json-server.")))})),R=n(7),H=n(90),B=n(86),M=n(22),V=n.n(M),q=function(e){return{type:"FETCHING",item:e}},z=function(e){return{type:"ERROR_FETCH",item:e}},J=function(e){return{type:"IS_ONLINE",value:e}},W=function(e){return function(t,n){if(!n()[e].isUpdated){t(q(e));V()({method:"get",url:A(e)}).then((function(n){t(function(e,t){return{type:"SUCCESS_FETCH",item:e,data:t}}(e,n.data))})).catch((function(){t(z(e))}))}}},Z=function(e,t){return function(n){n(q(e));V()({method:"post",url:A(e),data:t}).then((function(t){n(function(e){return{type:"SUCCESS_POST",item:e}}(e))})).catch((function(){n(z(e))}))}},K=function(e,t){return function(n){n(q(e));V()({method:"delete",url:A(e)+"/"+t.id}).then((function(a){n(function(e,t){return{type:"SUCCESS_DELETE",item:e,id:t}}(e,t.id))})).catch((function(){n(z(e))}))}},$={FetchStudents:function(){return function(e){e(W("students"))}},FetchProfessors:function(){return function(e){e(W("professors"))}},FetchGroups:function(){return function(e){e(W("groups"))}},FetchCities:function(){return function(e){e(W("cities"))}},PostStudents:function(e){return function(t){t(Z("students",e))}},PostGroup:function(e){return function(t){t(Z("groups",e))}},DeleteStudent:function(e){return function(t){t(K("students",e))}},DeleteGroup:function(e){return function(t){t(K("groups",e))}},ChangeVsFilterAction:function(e){return{type:"CHANGE_FILTER",vsFilter:e}},CheckIsOnlineThunk:function(){return function(e){V()({method:"get",url:"http://localhost:3001/isOnlineFlag"}).then((function(){e(J(!0))})).catch((function(){e(J(!1))}))}}},Q={handlePostStudent:$.PostStudents,handleLoadGroups:$.FetchGroups},X=u.b((function(e,t){return{listCities:e.cities.data,listGroups:e.groups.data,fetching:e.students.isFetching}}),Q)((function(e){var t=e.listGroups,n=e.listCities,l=(e.fetching,e.handlePostStudent),o=e.handleLoadGroups,u=Object(a.useState)(""),i=Object(R.a)(u,2),c=i[0],s=i[1],d=Object(a.useState)(""),m=Object(R.a)(d,2),f=m[0],p=m[1],E=Object(a.useState)(""),h=Object(R.a)(E,2),b=h[0],g=h[1],v=Object(a.useState)(0),y=Object(R.a)(v,2),C=y[0],S=y[1],j=Object(a.useState)("Male"),G=Object(R.a)(j,2),k=G[0],I=G[1],P=Object(a.useState)(0),L=Object(R.a)(P,2),w=L[0],N=L[1],A=Object(a.useState)(""),D=Object(R.a)(A,2),T=D[0],x=D[1],_=function(){t.length&&S(t[0].id)},U=function(){n.length&&S(n[0].id)};Object(a.useEffect)((function(){U(),o()}),[]),Object(a.useEffect)((function(){_()}),[t]);return r.a.createElement(H.a,{onSubmit:function(e){e.preventDefault(),l({name:c,age:Number(f),sex:k,birthday:T,cityId:w,email:b,groupId:C,id:0}),s(""),p(""),g(""),_(),I("Male"),U(),x("")},style:F},r.a.createElement(H.a.Group,null,r.a.createElement(H.a.Label,null,"Name"),r.a.createElement(H.a.Control,{pattern:"[a-z A-Z]*",value:c,required:!0,type:"text",placeholder:"Enter full name",onChange:function(e){s(e.target.value)}})),r.a.createElement(H.a.Group,null,r.a.createElement(H.a.Label,null,"Group"),r.a.createElement(H.a.Control,{as:"select",value:C,onChange:function(e){S(Number(e.target.value))}},t.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement(H.a.Group,null,r.a.createElement(H.a.Label,null,"Email"),r.a.createElement(H.a.Control,{required:!0,type:"email",value:b,placeholder:"Enter email",onChange:function(e){g(e.target.value)}})),r.a.createElement(H.a.Group,null,r.a.createElement(H.a.Label,null,"Sex"),r.a.createElement(H.a.Control,{as:"select",onChange:function(e){I(e.target.value)}},r.a.createElement("option",null,"Male"),r.a.createElement("option",null,"Female"))),r.a.createElement(H.a.Group,null,r.a.createElement(H.a.Label,null,"Age"),r.a.createElement(H.a.Control,{required:!0,type:"number",min:"5",max:"100",placeholder:"Enter age",value:f,onChange:function(e){p(e.target.value)}})),r.a.createElement(H.a.Group,null,r.a.createElement(H.a.Label,null,"City"),r.a.createElement(H.a.Control,{as:"select",value:w,onChange:function(e){N(Number(e.target.value))}},n.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement(H.a.Group,null,r.a.createElement(H.a.Label,null,"Birthday"),r.a.createElement(H.a.Control,{required:!0,type:"date",value:T,onChange:function(e){x(e.target.value)}})),r.a.createElement(B.a,{variant:"primary",type:"submit",style:O},"Submit"))})),Y={handlePostGroup:$.PostGroup},ee=u.b((function(e,t){return{listProfessors:e.professors.data}}),Y)((function(e){var t=e.listProfessors,n=e.handlePostGroup,l=Object(a.useState)(""),o=Object(R.a)(l,2),u=o[0],i=o[1],c=Object(a.useState)(1),s=Object(R.a)(c,2),d=s[0],m=s[1],f=function(){i(""),t.length&&m(t[0].id)};return r.a.createElement(H.a,{onSubmit:function(e){e.preventDefault(),f(),n({name:u,professorId:d,id:0})},style:j},r.a.createElement(H.a.Group,null,r.a.createElement(H.a.Label,null,"Group name"),r.a.createElement(H.a.Control,{pattern:"[a-zA-Z0-9-_]*",value:u,required:!0,type:"text",placeholder:"Enter group name",onChange:function(e){i(e.target.value)}})),r.a.createElement(H.a.Group,null,r.a.createElement(H.a.Label,null,"Professor"),r.a.createElement(H.a.Control,{as:"select",value:d,onChange:function(e){m(Number(e.target.value))}},t.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement(B.a,{variant:"primary",type:"submit",style:O},"Submit"))})),te=n(18),ne=function(){var e=function(e,t){return r.a.createElement(s.b,{to:e,style:v,activeStyle:y,isActive:function(t,n){return function(e,t){return e.pathname===t}(n,e)}},t)};return r.a.createElement(a.Fragment,null,r.a.createElement(c.a,{variant:"pills",style:C},r.a.createElement(c.a.Item,null,e("/insert/student-form","Student")),r.a.createElement(c.a.Item,null,e("/insert/group-form","Group"))),r.a.createElement(te.d,null,r.a.createElement(te.b,{path:"/insert/student-form"},r.a.createElement(X,null)),r.a.createElement(te.b,{path:"/insert/group-form"},r.a.createElement(ee,null)),r.a.createElement(te.a,{to:"/insert/student-form"})))},ae=n(89),re=function(e,t){if(0===t.length)return"< Not found >";if(1===t.length)return t[0].id===e?t[0].name:"< Not found >";var n=T.a.findIndex(t,(function(t){return t.id===e}));return n>=0?t[n].name:"< Not found >"},le=n(50),oe=n(88),ue=n(51),ie=["All","Group","Professor","City"],ce={type:"All",option:0},se={data:[],isFetching:!1,isUpdated:!1,errorFetch:!1},de={cities:Object(d.a)({},se),students:Object(d.a)({},se),groups:Object(d.a)({},se),professors:Object(d.a)({},se),vsFilter:ce,isOnline:!0},me={handleChangeFilterVs:$.ChangeVsFilterAction},fe=u.b((function(e,t){return{listProfessor:e.professors.data,listCities:e.cities.data,listGroups:e.groups.data,currentFilterVs:e.vsFilter}}),me)((function(e){var t=e.listCities,n=e.listGroups,l=e.listProfessor,o=e.currentFilterVs,u=e.handleChangeFilterVs,c=Object(a.useState)("All"),s=Object(R.a)(c,2),d=s[0],m=s[1],f=Object(a.useState)(0),p=Object(R.a)(f,2),E=p[0],h=p[1],b=Object(a.useState)([]),g=Object(R.a)(b,2),v=g[0],y=g[1];Object(a.useEffect)((function(){m(o.type),h(o.option),o.option===ce.option&&y([])}),[o]);return r.a.createElement(oe.a,{style:G},r.a.createElement(ue.a,{sm:3},r.a.createElement(le.a,{as:"select",value:d,onChange:function(e){!function(e){switch(m(e),e){case"City":h(t[0].id),y(t);break;case"Group":h(n[0].id),y(n);break;case"Professor":h(l[0].id),y(l);break;case"All":y([])}}(e.target.value)}},ie.map((function(e,t){return r.a.createElement("option",{key:t},e)})))),r.a.createElement(ue.a,{sm:3},r.a.createElement(le.a,{as:"select",value:E,onChange:function(e){h(Number(e.target.value))}},v.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})))),r.a.createElement(ue.a,null,r.a.createElement(i.a,{style:I},r.a.createElement(B.a,{style:k,onClick:function(){u({type:d,option:E})}},"Filter"))),r.a.createElement(ue.a,null,r.a.createElement(i.a,{style:P},r.a.createElement(B.a,{style:k,onClick:function(){u(ce)}},"Show All"))))})),pe=["#","Name","Group","Email","Sex","Age","Birthplace","Birthday","Main professor","Delete"],Ee={handleDeleteStudent:$.DeleteStudent,handleLoadGroup:$.FetchGroups,handleLoadStudents:$.FetchStudents},he=u.b((function(e,t){var n;switch(e.vsFilter.type){case"City":n=T.a.filter(e.students.data,(function(t){return t.cityId===e.vsFilter.option}));break;case"Group":n=T.a.filter(e.students.data,(function(t){return t.groupId===e.vsFilter.option}));break;case"Professor":var a=T.a.find(e.groups.data,(function(t){return t.professorId===e.vsFilter.option}));n=void 0===typeof a?e.students.data:T.a.filter(e.students.data,(function(e){return e.groupId===(null===a||void 0===a?void 0:a.id)}));break;case"All":default:n=e.students.data}return{listStudents:n,listCities:e.cities.data,listGroups:e.groups.data,listProfessors:e.professors.data}}),Ee)((function(e){var t=e.listStudents,n=e.listGroups,l=e.listCities,o=e.listProfessors,u=e.handleDeleteStudent,i=e.handleLoadStudents,c=e.handleLoadGroup;return Object(a.useEffect)((function(){i(),c()}),[]),r.a.createElement(a.Fragment,null,r.a.createElement(fe,null),r.a.createElement(ae.a,{striped:!0,bordered:!0,hover:!0,style:L},r.a.createElement("thead",null,r.a.createElement("tr",null,pe.map((function(e,t){return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,re(e.groupId,n)),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.sex),r.a.createElement("td",null,e.age),r.a.createElement("td",null,re(e.cityId,l)),r.a.createElement("td",null,e.birthday),r.a.createElement("td",null,function(e,t,n){var a=T.a.find(t,(function(t){return t.id===e.groupId})),r=T.a.find(n,(function(e){return e.id===(null===a||void 0===a?void 0:a.professorId)}));return r?r.name:"< Not found >"}(e,n,o)),r.a.createElement("td",null,r.a.createElement(B.a,{style:w,onClick:function(){u(e)}},"Delete")))})))))})),be=["#","Name","Main professor","Delete"],ge={handleLoadProfessor:$.FetchProfessors,handleLoadGroup:$.FetchGroups,handleDeleteGroup:$.DeleteGroup},ve=u.b((function(e,t){return{listGroups:e.groups.data,listProfessors:e.professors.data}}),ge)((function(e){var t=e.listGroups,n=e.listProfessors,l=e.handleDeleteGroup,o=e.handleLoadGroup,u=e.handleLoadProfessor;return Object(a.useEffect)((function(){u(),o()}),[]),r.a.createElement(ae.a,{striped:!0,bordered:!0,hover:!0,style:L},r.a.createElement("thead",null,r.a.createElement("tr",null,be.map((function(e,t){return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,re(e.professorId,n)),r.a.createElement("td",null,r.a.createElement(B.a,{style:w,onClick:function(){l(e)}},"Delete")))}))))})),ye=function(){var e=function(e,t){return r.a.createElement(s.b,{to:e,style:v,activeStyle:y,isActive:function(t,n){return function(e,t){return e.pathname===t}(n,e)}},t)};return r.a.createElement(a.Fragment,null,r.a.createElement(c.a,{variant:"pills",style:C},r.a.createElement(c.a.Item,null,e("/register/student-list","Student")),r.a.createElement(c.a.Item,null,e("/register/group-list","Group"))),r.a.createElement(te.d,null,r.a.createElement(te.b,{path:"/register/student-list"},r.a.createElement(he,null)),r.a.createElement(te.b,{path:"/register/group-list"},r.a.createElement(ve,null)),r.a.createElement(te.a,{to:"/register/student-list"})))},Ce=u.b((function(e,t){return{isOnline:e.isOnline}}),{})((function(e){var t=e.component,n=e.path;return e.isOnline?r.a.createElement(te.b,{path:n,component:t}):r.a.createElement(te.a,{to:"/"})})),Oe={loadCities:$.FetchCities,loadProffesors:$.FetchProfessors,checkIsOnline:$.CheckIsOnlineThunk},Se=u.b((function(e,t){return{error:e.cities.errorFetch}}),Oe)((function(e){var t=e.loadCities,n=e.loadProffesors,l=e.checkIsOnline;return Object(a.useEffect)((function(){t(),n(),setInterval((function(){l()}),5e3)}),[]),r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement(x,null),r.a.createElement(te.d,null,r.a.createElement(te.b,{exact:!0,path:"/",component:U}),r.a.createElement(Ce,{path:"/insert",component:ne}),r.a.createElement(Ce,{path:"/register",component:ye}),r.a.createElement(te.a,{to:"/"}))))})),Fe=n(52),je=n(21),Ge=Object(je.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0,n=Object(d.a)({},e);switch(t.type){case"FETCHING":n[t.item].isFetching=!0;break;case"ERROR_FETCH":n[t.item].isFetching=!1,n[t.item].errorFetch=!0;break;case"SUCCESS_FETCH":n[t.item].isFetching=!1,n[t.item].errorFetch=!1,n[t.item].isUpdated=!0,n[t.item].data=t.data;break;case"SUCCESS_POST":n[t.item].isFetching=!1,n[t.item].errorFetch=!1,n[t.item].isUpdated=!1;break;case"SUCCESS_DELETE":n[t.item].data=T.a.filter(n[t.item].data,(function(e){return e.id!==t.id})),n[t.item].isFetching=!1,n[t.item].errorFetch=!1,n[t.item].isUpdated=!0,"groups"===t.item&&(n.students.isUpdated=!1);break;case"CHANGE_FILTER":n.vsFilter=t.vsFilter;break;case"IS_ONLINE":n.isOnline=t.value}return n}),Object(je.a)(Fe.a)),ke=function(){return r.a.createElement(u.a,{store:Ge},r.a.createElement(Se,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(84);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.54b31173.chunk.js.map