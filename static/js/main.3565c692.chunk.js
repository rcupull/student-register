(this.webpackJsonpproyect=this.webpackJsonpproyect||[]).push([[0],{58:function(e,t,n){e.exports=n(88)},88:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(25),o=n.n(l),u=n(8),c=n(7),i=n(90),s=n(94),d=n(17),m=n(5),E="rgb(116, 128, 175)",p={padding:".5rem 1rem",fontSize:"1.2rem",display:"block",color:"white",borderRadius:"10px"},f=Object(m.a)({},p,{backgroundColor:E}),h=Object(m.a)({},p,{backgroundColor:"rgb(91, 187, 130)"}),b={padding:".5rem 1rem"},y={borderColor:"gray",padding:"0.5rem"},C={padding:".5rem 1rem",fontSize:"1.5rem",display:"block"},S=Object(m.a)({},C,{color:E}),g=Object(m.a)({},C,{color:"rgb(91, 187, 130)"}),O={borderColor:"gray",padding:"0.5rem"},T={backgroundColor:E,borderColor:E},v={border:"solid 0.01rem",padding:"1rem",width:"50%",borderColor:"gray"},G=Object(m.a)({},v),j=Object(m.a)({},v),F={padding:"1rem"},k={backgroundColor:E,borderColor:E},_={textAlign:"left"},I={textAlign:"right"},P={border:"solid 0.12rem gray"},R={backgroundColor:E,borderColor:E},N={margin:"1.5rem 0",border:"solid 0.05rem gray"},U="http://localhost",H=U+":3001/students",D=U+":3001/groups",L={method:"GET",url:H},w={method:"GET",url:D},A={method:"GET",url:"http://localhost:3001/cities"},x={method:"GET",url:"http://localhost:3001/professors"},V={method:"POST",url:H},B={method:"DELETE",url:H},M={method:"DELETE",url:D},q={method:"POST",url:D},z=n(9),J=n.n(z),W=function(){var e=function(e,t){return a.a.createElement(d.b,{to:e,style:f,activeStyle:h,isActive:function(t,n){return function(e,t){return"/"+J.a.split(e.pathname,"/")[1]===t}(n,e)}},t)};return a.a.createElement(s.a,{variant:"tabs",activeKey:"1",style:y},a.a.createElement(s.a.Item,{style:b},e("/","Home")),a.a.createElement(s.a.Item,{style:b},e("/insert","Insert")),a.a.createElement(s.a.Item,{style:b},e("/register","Register")))},Z=n(95),K=c.b((function(e,t){return{error:e.error}}),{})((function(e){var t=e.error;return r.createElement(Z.a,{style:N},r.createElement(Z.a.Body,null,r.createElement(Z.a.Title,null,"Application for the administration of students"," ",t?"<<CONNECTION FAIL>>":""),r.createElement(Z.a.Text,null,"Download 'db.json' file from source code. Install json-server (",r.createElement(Z.a.Link,{href:"https://www.npmjs.com/package/json-server"},"https://www.npmjs.com/package/json-server"),") and write 'json-server --watch db.json --port 3001' for running json-server.")))})),$=n(93),Q=n(89),X=n(18),Y=n.n(X),ee={FetchCitiesThunk:function(){return function(e){e({type:"FETCHING"});Y()(A).then((function(t){e({type:"FETCH_CITIES_SUCCESS",payload:t.data})})).catch((function(){e({type:"FETCH_ERROR"})}))}},FetchGroupsThunk:function(){return function(e){e({type:"FETCHING"});Y()(w).then((function(t){e({type:"FETCH_GROUPS_SUCCESS",payload:t.data})})).catch((function(){e({type:"FETCH_ERROR"})}))}},FetchProfessorsThunk:function(){return function(e){e({type:"FETCHING"});Y()(x).then((function(t){e({type:"FETCH_PROFESSORS_SUCCESS",payload:t.data})})).catch((function(){e({type:"FETCH_ERROR"})}))}},FetchStudentsThunk:function(){return function(e){e({type:"FETCHING"});Y()(L).then((function(t){e({type:"FETCH_STUDENTS_SUCCESS",payload:t.data})})).catch((function(){e({type:"FETCH_ERROR"})}))}},PostStudentThunk:function(e){return function(t){t({type:"FETCHING"});Y()(Object(m.a)({},V,{data:e})).then((function(e){t(function(e){return{type:"POST_STUDENT_SUCCESS",payload:e}}(e.data))})).catch((function(){t({type:"FETCH_ERROR"})}))}},PostGroupThunk:function(e){return function(t){t({type:"FETCHING"});Y()(Object(m.a)({},q,{data:e})).then((function(e){t({type:"POST_GROUP_SUCCESS"})})).catch((function(){t({type:"FETCH_ERROR"})}))}},DeleteStudentThunk:function(e){return function(t){t({type:"FETCHING"});var n=B.url?B.url:"";Y()(Object(m.a)({},B,{url:n+"/"+e.id})).then((function(n){t(function(e){return{type:"DELETE_STUDENT_SUCCESS",payload:e}}(e))})).catch((function(){t({type:"FETCH_ERROR"})}))}},DeleteGroupThunk:function(e){return function(t){t({type:"FETCHING"});var n=M.url?M.url:"";Y()(Object(m.a)({},M,{url:n+"/"+e.id})).then((function(n){t(function(e){return{type:"DELETE_GROUP_SUCCESS",payload:e}}(e))})).catch((function(){t({type:"FETCH_ERROR"})}))}},ChangeFilterVsAction:function(e){return{type:"CHANGE_FILTER",payload:e}}},te={handlePostStudent:ee.PostStudentThunk,handleloadGroups:ee.FetchGroupsThunk},ne=c.b((function(e,t){return{listCities:e.cities,listGroups:e.groups,fetching:e.fetching}}),te)((function(e){var t=e.listGroups,n=e.listCities,l=(e.fetching,e.handlePostStudent),o=e.handleloadGroups,c=Object(r.useState)(""),i=Object(u.a)(c,2),s=i[0],d=i[1],m=Object(r.useState)(""),E=Object(u.a)(m,2),p=E[0],f=E[1],h=Object(r.useState)(""),b=Object(u.a)(h,2),y=b[0],C=b[1],S=Object(r.useState)(0),g=Object(u.a)(S,2),O=g[0],v=g[1],j=Object(r.useState)("Male"),F=Object(u.a)(j,2),k=F[0],_=F[1],I=Object(r.useState)(0),P=Object(u.a)(I,2),R=P[0],N=P[1],U=Object(r.useState)(""),H=Object(u.a)(U,2),D=H[0],L=H[1],w=function(){n.length&&N(n[0].id)},A=function(){t.length&&v(t[0].id)};Object(r.useEffect)((function(){w(),A(),o()}),[]);return a.a.createElement($.a,{onSubmit:function(e){e.preventDefault(),l({name:s,age:Number(p),sex:k,birthday:D,cityId:R,email:y,groupId:O,id:0}),d(""),f(""),C(""),A(),_("Male"),w(),L("")},style:G},a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Name"),a.a.createElement($.a.Control,{pattern:"[a-z A-Z]*",value:s,required:!0,type:"text",placeholder:"Enter full name",onChange:function(e){d(e.target.value)}})),a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Group"),a.a.createElement($.a.Control,{as:"select",value:O,onChange:function(e){v(Number(e.target.value))}},t.map((function(e){return a.a.createElement("option",{key:e.id,value:e.id},e.name)})))),a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Email"),a.a.createElement($.a.Control,{required:!0,type:"email",value:y,placeholder:"Enter email",onChange:function(e){C(e.target.value)}})),a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Sex"),a.a.createElement($.a.Control,{as:"select",onChange:function(e){_(e.target.value)}},a.a.createElement("option",null,"Male"),a.a.createElement("option",null,"Female"))),a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Age"),a.a.createElement($.a.Control,{required:!0,type:"number",min:"5",max:"100",placeholder:"Enter age",value:p,onChange:function(e){f(e.target.value)}})),a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"City"),a.a.createElement($.a.Control,{as:"select",value:R,onChange:function(e){N(Number(e.target.value))}},n.map((function(e){return a.a.createElement("option",{key:e.id,value:e.id},e.name)})))),a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Birthday"),a.a.createElement($.a.Control,{required:!0,type:"date",value:D,onChange:function(e){L(e.target.value)}})),a.a.createElement(Q.a,{variant:"primary",type:"submit",style:T},"Submit"))})),re={handlePostGroup:ee.PostGroupThunk},ae=c.b((function(e,t){return{listProfessors:e.professors}}),re)((function(e){var t=e.listProfessors,n=e.handlePostGroup,l=Object(r.useState)(""),o=Object(u.a)(l,2),c=o[0],i=o[1],s=Object(r.useState)(1),d=Object(u.a)(s,2),m=d[0],E=d[1],p=function(){i(""),t.length&&E(t[0].id)};return a.a.createElement($.a,{onSubmit:function(e){e.preventDefault(),p(),n({name:c,professorId:m,id:0})},style:j},a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Group name"),a.a.createElement($.a.Control,{pattern:"[a-zA-Z0-9-_]*",value:c,required:!0,type:"text",placeholder:"Enter group name",onChange:function(e){i(e.target.value)}})),a.a.createElement($.a.Group,null,a.a.createElement($.a.Label,null,"Professor"),a.a.createElement($.a.Control,{as:"select",value:m,onChange:function(e){E(Number(e.target.value))}},t.map((function(e){return a.a.createElement("option",{key:e.id,value:e.id},e.name)})))),a.a.createElement(Q.a,{variant:"primary",type:"submit",style:T},"Submit"))})),le=n(19),oe=function(){var e=function(e,t){return a.a.createElement(d.b,{to:e,style:S,activeStyle:g,isActive:function(t,n){return function(e,t){return e.pathname===t}(n,e)}},t)};return a.a.createElement(r.Fragment,null,a.a.createElement(s.a,{variant:"pills",style:O},a.a.createElement(s.a.Item,null,e("/insert/student-form","Student")),a.a.createElement(s.a.Item,null,e("/insert/group-form","Group"))),a.a.createElement(le.d,null,a.a.createElement(le.b,{path:"/insert/student-form"},a.a.createElement(ne,null)),a.a.createElement(le.b,{path:"/insert/group-form"},a.a.createElement(ae,null)),a.a.createElement(le.a,{to:"/insert/student-form"})))},ue=n(92),ce=function(e,t){if(0===t.length)return"< Not found >";if(1===t.length)return t[0].id===e?t[0].name:"< Not found >";var n=J.a.findIndex(t,(function(t){return t.id===e}));return n>=0?t[n].name:"< Not found >"},ie=n(52),se=n(91),de=n(53),me=["All","Group","Professor","City"],Ee={type:"All",option:0},pe={handleChangeFilterVs:ee.ChangeFilterVsAction},fe=c.b((function(e,t){return{listProfessor:e.professors,listCities:e.cities,listGroups:e.groups,currentFilterVs:e.currentFilterVs}}),pe)((function(e){var t=e.listCities,n=e.listGroups,l=e.listProfessor,o=e.currentFilterVs,c=e.handleChangeFilterVs,s=Object(r.useState)("All"),d=Object(u.a)(s,2),m=d[0],E=d[1],p=Object(r.useState)(0),f=Object(u.a)(p,2),h=f[0],b=f[1],y=Object(r.useState)([]),C=Object(u.a)(y,2),S=C[0],g=C[1];Object(r.useEffect)((function(){E(o.type),b(o.option),o.option===Ee.option&&g([])}),[o]);return a.a.createElement(se.a,{style:F},a.a.createElement(de.a,{sm:3},a.a.createElement(ie.a,{as:"select",value:m,onChange:function(e){!function(e){switch(E(e),e){case"City":b(t[0].id),g(t);break;case"Group":b(n[0].id),g(n);break;case"Professor":b(l[0].id),g(l);break;case"All":g([])}}(e.target.value)}},me.map((function(e,t){return a.a.createElement("option",{key:t},e)})))),a.a.createElement(de.a,{sm:3},a.a.createElement(ie.a,{as:"select",value:h,onChange:function(e){b(Number(e.target.value))}},S.map((function(e,t){return a.a.createElement("option",{key:t,value:e.id},e.name)})))),a.a.createElement(de.a,null,a.a.createElement(i.a,{style:_},a.a.createElement(Q.a,{style:k,onClick:function(){c({type:m,option:h})}},"Filter"))),a.a.createElement(de.a,null,a.a.createElement(i.a,{style:I},a.a.createElement(Q.a,{style:k,onClick:function(){c(Ee)}},"Show All"))))})),he=["#","Name","Group","Email","Sex","Age","Birthplace","Birthday","Main professor","Delete"],be={handleDeleteStudent:ee.DeleteStudentThunk,handleLoadGroup:ee.FetchGroupsThunk,handleLoadStudents:ee.FetchStudentsThunk},ye=c.b((function(e,t){var n;switch(e.currentFilterVs.type){case"City":n=J.a.filter(e.students,(function(t){return t.cityId===e.currentFilterVs.option}));break;case"Group":n=J.a.filter(e.students,(function(t){return t.groupId===e.currentFilterVs.option}));break;case"Professor":var r=J.a.find(e.groups,(function(t){return t.professorId===e.currentFilterVs.option}));n=void 0===typeof r?e.students:J.a.filter(e.students,(function(e){return e.groupId===(null===r||void 0===r?void 0:r.id)}));break;case"All":default:n=e.students}return{listStudents:n,listCities:e.cities,listGroups:e.groups,listProfessors:e.professors}}),be)((function(e){var t=e.listStudents,n=e.listGroups,l=e.listCities,o=e.listProfessors,u=e.handleDeleteStudent,c=e.handleLoadStudents,i=e.handleLoadGroup;return Object(r.useEffect)((function(){c(),i()}),[]),a.a.createElement(r.Fragment,null,a.a.createElement(fe,null),a.a.createElement(ue.a,{striped:!0,bordered:!0,hover:!0,style:P},a.a.createElement("thead",null,a.a.createElement("tr",null,he.map((function(e,t){return a.a.createElement("th",{key:t},e)})))),a.a.createElement("tbody",null,t.map((function(e){return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,e.id),a.a.createElement("td",null,e.name),a.a.createElement("td",null,ce(e.groupId,n)),a.a.createElement("td",null,e.email),a.a.createElement("td",null,e.sex),a.a.createElement("td",null,e.age),a.a.createElement("td",null,ce(e.cityId,l)),a.a.createElement("td",null,e.birthday),a.a.createElement("td",null,function(e,t,n){var r=J.a.find(t,(function(t){return t.id===e.groupId})),a=J.a.find(n,(function(e){return e.id===(null===r||void 0===r?void 0:r.professorId)}));return a?a.name:"< Not found >"}(e,n,o)),a.a.createElement("td",null,a.a.createElement(Q.a,{style:R,onClick:function(){u(e)}},"Delete")))})))))})),Ce=["#","Name","Main professor","Delete"],Se={handleLoadProfessor:ee.FetchProfessorsThunk,handleLoadGroup:ee.FetchGroupsThunk,handleDeleteGroup:ee.DeleteGroupThunk},ge=c.b((function(e,t){return{listGroups:e.groups,listProfessors:e.professors}}),Se)((function(e){var t=e.listGroups,n=e.listProfessors,l=e.handleDeleteGroup,o=e.handleLoadGroup,u=e.handleLoadProfessor;return Object(r.useEffect)((function(){u(),o()}),[]),a.a.createElement(ue.a,{striped:!0,bordered:!0,hover:!0,style:P},a.a.createElement("thead",null,a.a.createElement("tr",null,Ce.map((function(e,t){return a.a.createElement("th",{key:t},e)})))),a.a.createElement("tbody",null,t.map((function(e){return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,e.id),a.a.createElement("td",null,e.name),a.a.createElement("td",null,ce(e.professorId,n)),a.a.createElement("td",null,a.a.createElement(Q.a,{style:R,onClick:function(){l(e)}},"Delete")))}))))})),Oe=function(){var e=function(e,t){return a.a.createElement(d.b,{to:e,style:S,activeStyle:g,isActive:function(t,n){return function(e,t){return e.pathname===t}(n,e)}},t)};return a.a.createElement(r.Fragment,null,a.a.createElement(s.a,{variant:"pills",style:O},a.a.createElement(s.a.Item,null,e("/register/student-list","Student")),a.a.createElement(s.a.Item,null,e("/register/group-list","Group"))),a.a.createElement(le.d,null,a.a.createElement(le.b,{path:"/register/student-list"},a.a.createElement(ye,null)),a.a.createElement(le.b,{path:"/register/group-list"},a.a.createElement(ge,null)),a.a.createElement(le.a,{to:"/register/student-list"})))},Te=c.b((function(e,t){return{error:e.error}}),{})((function(e){var t=e.component,n=e.path;return e.error?a.a.createElement(le.a,{to:"/"}):a.a.createElement(le.b,{path:n,component:t})})),ve={loadCities:ee.FetchCitiesThunk,loadProffesors:ee.FetchProfessorsThunk},Ge=c.b((function(e,t){return{error:e.error}}),ve)((function(e){var t=e.loadCities,n=e.loadProffesors,l=e.error,o=Object(r.useState)(setTimeout((function(){}),1)),c=Object(u.a)(o,2),s=c[0],m=c[1],E=function(){m(setInterval((function(){t(),n()}),5e3))},p=function(){l?E():clearInterval(s)};return Object(r.useEffect)((function(){p()}),[l]),a.a.createElement(i.a,null,a.a.createElement(d.a,null,a.a.createElement(W,null),a.a.createElement(le.d,null,a.a.createElement(le.b,{exact:!0,path:"/",component:K}),a.a.createElement(Te,{path:"/insert",component:oe}),a.a.createElement(Te,{path:"/register",component:Oe}),a.a.createElement(le.a,{to:"/"}))))})),je=n(54),Fe=n(56),ke={cities:[],students:[],groups:[],professors:[],error:!0,fetching:!1,currentFilterVs:Ee},_e=n(23),Ie=Object(_e.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHING":return Object(m.a)({},e,{fetching:!0});case"FETCH_ERROR":return Object(m.a)({},e,{fetching:!1,error:!0});case"FETCH_STUDENTS_SUCCESS":return Object(m.a)({},e,{error:!1,fetching:!1,isStudentsUpdated:!0,students:t.payload});case"FETCH_GROUPS_SUCCESS":return Object(m.a)({},e,{error:!1,fetching:!1,isGroupsUpdated:!0,groups:t.payload});case"FETCH_CITIES_SUCCESS":return Object(m.a)({},e,{error:!1,fetching:!1,cities:t.payload});case"FETCH_PROFESSORS_SUCCESS":return Object(m.a)({},e,{error:!1,fetching:!1,professors:t.payload});case"POST_STUDENT_SUCCESS":return Object(m.a)({},e,{students:[].concat(Object(Fe.a)(e.students),[t.payload])});case"DELETE_STUDENT_SUCCESS":return Object(m.a)({},e,{students:J.a.filter(e.students,(function(e){return e.id!==t.payload.id}))});case"DELETE_GROUP_SUCCESS":return Object(m.a)({},e,{groups:J.a.filter(e.groups,(function(e){return e.id!==t.payload.id}))});case"POST_GROUP_SUCCESS":return Object(m.a)({},e,{isGroupsUpdated:!1});case"CHANGE_FILTER":return Object(m.a)({},e,{currentFilterVs:t.payload});default:return e}}),Object(_e.a)(je.a)),Pe=function(){return a.a.createElement(c.a,{store:Ie},a.a.createElement(Ge,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(87);o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[58,1,2]]]);
//# sourceMappingURL=main.3565c692.chunk.js.map